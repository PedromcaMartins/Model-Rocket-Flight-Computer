# This file was automatically generated.

[package]
name = "flight_computer"
edition = "2024"
version = "0.0.0"

[lib]
name = "flight_computer"
path = "src/lib.rs"

[lints.rust]
unsafe_code = "forbid"

[lints.clippy]
enum_glob_use = "deny"
pedantic = "warn"
nursery = "warn"
unwrap_used = "warn"

[dependencies]
telemetry_messages = { version = "*", path = "../telemetry_messages" }
chrono = { version = "^0.4", default-features = false}

# embassy-futures = "0.1"
embassy-sync = "0.6.2"
embassy-time = { version = "0.4" }
embassy-usb = { version = "0.4.0" }
# embassy-net = { version = "0.6.0", features = ["tcp", "dhcpv4", "medium-ethernet", ] }
# embassy-net-wiznet = { version = "0.2.0" }

defmt = { version = "1.0", optional = true }

embedded-hal = { version = "1.0.0", features = ["defmt-03"] }
embedded-hal-async = { version = "1.0.0", features = ["defmt-03"] }
embedded-hal-bus = { version = "0.3", features = ["async", "defmt-03"] }
embedded-io = { version = "0.6.0", features = ["defmt-03"] }
embedded-io-async = { version = "0.6.1", features = ["defmt-03"] }
embedded-storage = "0.3.1"
embedded-sdmmc = { version = "0.9.0", default-features = false, features = ["defmt-log"] }

# Drivers
bmp280-ehal = "0.0.6"
bno055 = "0.4.0"
nmea = { version = "0.7.0", default-features = false, features = ["GGA"] }

postcard ={ version = "1.1" }
postcard-rpc = { version = "0.11", features = ["embassy-usb-0_4-server"] }
postcard-schema = { version = "0.2", features = ["derive", "nalgebra-v0_33", "chrono-v0_4", "uom-v0_37"] }
uom = { version = "0.37.0", default-features = false, features = ["f32", "f64", "si", "serde"] }
static_cell = "2"

[features]
defmt = ["dep:defmt"]
default = ["debug"]
debug = [
    "defmt",
    "embassy-sync/defmt",
    # "embassy-futures/defmt",
    "embassy-time/defmt",
    "embassy-time/defmt-timestamp-uptime",
    "embassy-usb/defmt",
    # "embassy-net/defmt",
    # "embassy-net-wiznet/defmt",
    "bno055/defmt-03",
    "nmea/defmt-03",
]
